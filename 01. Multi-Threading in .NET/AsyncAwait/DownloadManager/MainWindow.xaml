<Window x:Class="DownloadManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DownloadManager"
        mc:Ignorable="d"
        Title="MainWindow" Height="300" Width="800">
    <DockPanel Background="AliceBlue">
        <Label DockPanel.Dock="Top" Name="lblDownloading" FontSize="14">
            Pages to download
        </Label>
        <StatusBar DockPanel.Dock="Bottom" Background="Beige">
            <StatusBarItem>
                <TextBlock Name="statBarText" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="150" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!--<TextBox x:Name="textBox" AcceptsReturn="True" FontSize="14" BorderBrush="Blue"
           VerticalScrollBarVisibility="Auto" 
           HorizontalScrollBarVisibility="Auto"
           Margin="0,0,0,82"
           Grid.RowSpan="1"/>-->
            <ListBox x:Name="listBox" Grid.Row="0" d:ItemsSource="{d:SampleData ItemCount=0}" />
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="5,0,5,0" Grid.Row="1">
                <Button x:Name="addUrlBtn" 
                        Content="Add"
                              Margin="5,0,5,0" 
                              Grid.Row="1" 
                              Padding="4, 2" 
                              Height="30" 
                              Click="AddUrlBtn_Click">
                    <!--<StackPanel Orientation="Vertical" HorizontalAlignment="Stretch" Margin="5,0,5,0" Grid.Row="0">
                        --><!--TextBlock acts as content element for the popup button--><!--
                        <TextBlock x:Name="txtBlock">
                            Add
                        </TextBlock>
                        --><!--Popup will be bound to Add button"--><!--

                        <Popup x:Name="addUrlPopup" 
                               Placement="Center" 
                               AllowsTransparency="True" 
                               Height="130" 
                               Width="430"
                               Opened= "AddUrlPopupOpened">
                            <Border BorderBrush="Gray" BorderThickness="1,1,1,1">
                                <Grid x:Name="popupGrid" Background="AliceBlue" >
                                    <Grid.RowDefinitions>
                                        --><!-- (*) same as (1*) means take up any available remaining space--><!--
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Label  Name="lblAddUrl" FontSize="14">
                                        Enter Page Addresses
                                    </Label>
                                    <TextBox x:Name="popupTextBox"
                                             FontSize="14"
                                             Width="400"
                                             TextAlignment="Left" 
                                             VerticalContentAlignment="Center"
                                             BorderBrush="Gray" 
                                             Grid.Row="0" 
                                             Height="30" 
                                             VerticalAlignment="Bottom"/>
                                    <StackPanel Orientation="Horizontal" 
                                                HorizontalAlignment="Right" 
                                                Margin="5,0,5,0" 
                                                Grid.Row="1">
                                        <Button x:Name="popupCancelBtn" 
                                                Content="Cancel"
                                                Margin="5,0,5,0" 
                                                Padding="4,2" 
                                                Height="30" 
                                                Click="DiscardUrls"/>
                                        <Button x:Name="popupOkBtn"  
                                                Content="OK" 
                                                IsEnabled="{Binding ElementName=popupTextBox, Path=Text.Length}" 
                                                Margin="5,0,5,0" 
                                                Padding="4, 2" 
                                                Height="30" 
                                                Click="AddUrls"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </Popup>
                    </StackPanel>-->
                </Button>
                <Button x:Name="downloadBtn" Content="Download" Margin="5,0,5,0" Padding="4, 2" Grid.Row="1" Height="30" 
                        Click="DownloadPages"/>
                <Button x:Name="cancelBtn" Content="Cancel" IsEnabled="False" Margin="5,0,5,0" Padding="4, 2" Grid.Row="1" Height="30" 
                        Click="CancelDownloading"/>
            </StackPanel>
        </Grid>
    </DockPanel>
</Window>
